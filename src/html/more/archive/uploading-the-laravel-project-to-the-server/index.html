<!DOCTYPE html>
<html lang="ru">
@@include('../../../../parts/head.html', {
"title": "Выгрузка проекта Laravel на сервер"
})
<link rel="stylesheet" href="/css/page.css">

<body>
    @@include('../../../../parts/header.html', {

    })

    <main id="post--main" class="container main--post">

        <div class="container--post post-archive--title">
            <p class="mb-0 post--start-p p-is-archive">Запись в архиве</p>
            <h1>Выгрузка проекта Laravel на сервер</h1>
        </div>

        <div class="container--post fs-5">

            <p>Всем привет. В недавной записи я сообщал об моих обновлениях и о том, что я
                начинаю изучение фреймворка Laravel. В этой статье я хочу уделить время тому факту, каким образом
                производить тестирование проекта и выгрузку его на свой сервер.</p>

            <h3>Зачем localhost?</h3>

            <p>Лучше всего начать с того, каким образом происходит работа над проектом. Прежде чем начинать выгрузку на сервер, вы
                работаете с проектом локально. Это значит, что все запускаемые, создаваемые и редактируемые файлы находятся только
                на вашем устройстве. Запуская сервер — вы запускаете локальный сервер, в пути которого будет указан ваш ip или
                localhost.</p>

            <p>Это значит, что только вам видны изменения. Это нужно для того, чтобы спокойно работать над изменениями в проекте. В
                то время, рабочая версия будет лежать на вашем сервере. Это значит, что вы спокойно можете добавлять нововведения,
                имея в ходу рабочий проект на сервере, который функционирует.</p>

            <p>Но изменения делаются для того, чтобы в будущем ими начали пользоваться. И вот он момент загрузки проекта на
                сервер.</p>

            <h3>Выгружаем на сервер</h3>

            <p>1. Убедитесь, что выгружаемый проект действительно готов к загрузке. Желательно запустить его, проверить работу и
                убедиться, что в нем нет ошибок.</p>

            <p>2. Настройте сервер, куда вы будете загружать проект. Либо создайте папку внутри доменного имени. Либо создайте новое
                доменное имя на том же уровне, что и основной домен, а затем добавьте ассоциацию с этим доменом внутри настроек
                сервера.</p>

            <p>3. Используйте для удобной загрузки программу, которая позволит подключиться к серверу.</p>

            <p>4. Отредактируйте пару моментов в проекте.</p>

            <p>5. Загрузите файлы на сервер.</p>

            <p>6. Удалите некоторые файлы с логами, чтобы сайт не выдавал ошибки.</p>

            <p>А теперь давайте подробнее:</p>

            <p> Мы уже готовы выгружать проект на сервер, проверили работу проекта. Давайте создадим новое доменное имя. Для этого
                перехожу в настройки своего хостинга. Если не знаете, где они — обратитесь в поддержку провайдера.</p>

            <p>Нам нужно создать папку и ссылку. Ссылка будет нужна для переадресации с пути www.&lt;domen&gt; на &lt;domen&gt;.</p>

            <p>Создать папку можно в любом удобном для вас месте. Я же буду создавать прямо здесь.</p>

            <p>В данном каталоге "www" создаю нужные файлы.</p>

            <p>Далее — ссылка. В таком формате.</p>

            <p>Затем, создаем псевдоним. Перехожу в настройки сайта. Важно сначала создать папку и ссылку, а только затем добавлять
                псевдоним.</p>

            <p>Здесь мы должны найти графу "псевдонимы".</p>

            <p>Редактируем ее: добавляем поле с нашим новым доменным именем. В моем случае это будет id.creagoo.ru.
                Именно так я пишу, с новой строки.</p>

            <p>Теперь нам нужно отредактировать проект. Заходим в него. Открываем .env в корне. Редактируем эти
                поля:</p>

            <ul>
                <li>APP_URL: полный путь домена.</li>
                <li>DB_PORT (если есть ДБ): 3306</li>
                <li>DB_DATABASE (если есть ДБ): имя ДБ</li>
                <li>DB_USERNAME (если есть ДБ): пользователь ДБ</li>
                <li>DB_PASSWORD (если есть ДБ): пароль пользователя ДБ</li>
            </ul>

            <p>Далее выполняем эти команды:</p>

            <ul>
                <li>php artisan key:generate: рефрешим наш ключ.</li>
                <li>php artisan config:cache: рефрешим кэш конфига.</li>
            </ul>

            <p>В папке public меняем файл .htaccess на такой.</p>

            <pre class="wp-block-preformatted">
&lt;DirectoryIndex public/index.php&gt;
&lt;IfModule mod_rewrite.c&gt;
    &lt;IfModule mod_negotiation.c&gt;
        Options &lt;-MultiViews&gt; -Indexes
    &lt;/IfModule&gt;

    RewriteEngine On

    # Handle Authorization Header
    RewriteCond %{HTTP:Authorization} .
    RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]

    # Redirect Trailing Slashes If Not A Folder...
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_URI} (.+)/$
    RewriteRule ^ %1 [L,R=301]

    # Handle Front Controller...
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^ &lt;public/&gt;index.php [L]
&lt;/IfModule&gt;
            </pre>

            <p>-MultiViews нужно удалить,
                если сервер некорректно отображается, тк с этим параметром с некоторыми настройками имеются проблемы.</p>

            <p>Далее файл .htaccess нужно переместить в корень.</p>

            <p>Переходим к выгрузке проекта. Открываем, к примеру, FileZilla. Подключаемся к серверу. Просто перемещаем содержимое
                папки вашего проекта внутрь папки на сервере. </p>

            <p>Есть пару моментов, про которые нельзя забыть:</p>

            <ul>
                <li>На сервере удалите содержимое папки storage/lotorage</li>
                <li>На сервере удалите файл bootstrap/cache/config.php</li>
            </ul>

            <p>Все. Ваш проект загружен на сервер. В будущем количество шагов уменьшится, потому что вы уже все настроили и все
                стало куда проще для использования. Успехов!</p>

        </div>

        <div class="container--post post--more">
            <p class="post--more-text mb-0">Автор: Администрация</p>
            <p class="post--more-text mb-0">18.05.2022 22:41</p>
        </div>

    </main>

    @@include('../../../../parts/footer.html', {

    })
</body>

</html>
